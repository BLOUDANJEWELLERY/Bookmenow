<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Panel</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4f4f4;
    }

    .navbar {
      display: flex;
      background: #0077cc;
      padding: 10px 20px;
      justify-content: center;
      gap: 20px;
    }

    .nav-button {
      background: none;
      border: none;
      color: white;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      padding: 10px 15px;
    }

    .nav-button.active {
      background: #005fa3;
      border-radius: 6px;
    }

    .section {
      display: none;
      max-width: 1000px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }

    .section.active {
      display: block;
    }

    h2 {
      margin-top: 0;
    }

    .day-row,
    .holiday-form,
    .blackout-form {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    input[type="time"],
    input[type="date"],
    input[type="text"],
    input[type="number"],
    select {
      padding: 6px 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      min-width: 120px;
    }

    .shift {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .hidden {
      display: none !important;
    }

    .save-btn {
      margin-top: 20px;
      padding: 10px 15px;
      background-color: #0077cc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
      font-size: 16px;
    }

    .save-btn:hover {
      background-color: #005fa3;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    table th,
    table td {
      padding: 10px;
      border: 1px solid #ccc;
    }

    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <div class="navbar">
    <button class="nav-button active" onclick="showSection('schedule')">Schedule</button>
    <button class="nav-button" onclick="showSection('holidays')">Holidays</button>
    <button class="nav-button" onclick="showSection('blackouts')">Blackout Slots</button>
    <button class="nav-button" onclick="showSection('userdata')">User Data</button>
    <button class="nav-button" onclick="showSection('settings')">Settings</button>
  </div>

  <!-- Schedule -->
  <div class="section active" id="schedule">
    <h2>üïí Working Days & Hours</h2>
    <div id="working-days-container"></div>
    <button class="save-btn" onclick="saveWorkingDays()">üíæ Save Working Hours</button>
  </div>

  <!-- Holidays -->
  <div class="section" id="holidays">
    <h2>üìÖ Special Holidays</h2>
    <div class="holiday-form">
      <input type="date" id="holiday-date" />
      <input type="text" id="holiday-reason" placeholder="Reason (optional)" />
      <button onclick="addHoliday()">Add Holiday</button>
    </div>
    <ul id="holiday-list"></ul>
  </div>

  <!-- Blackout Slots -->
  <div class="section" id="blackouts">
    <h2>‚õî Blackout Slots</h2>
    <div class="blackout-form">
      <select id="blackout-day">
        <option>Monday</option><option>Tuesday</option><option>Wednesday</option>
        <option>Thursday</option><option>Friday</option><option>Saturday</option><option>Sunday</option>
      </select>
      <input type="time" id="blackout-start" />
      <input type="time" id="blackout-end" />
      <button onclick="addBlackout()">Add Break</button>
    </div>
    <ul id="blackout-list"></ul>
  </div>

  <!-- User Data -->
  <div class="section" id="userdata">
    <h2>üë• User Data</h2>
    <input type="text" placeholder="Search..." />
    <button>Export CSV</button>
    <table>
      <thead>
        <tr><th>User</th><th>Service</th><th>Date</th><th>Status</th></tr>
      </thead>
      <tbody>
        <tr><td>John Doe</td><td>Facial</td><td>2025-07-19</td><td>Confirmed</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Settings -->
  <div class="section" id="settings">
    <h2>‚öôÔ∏è Advanced Settings</h2>
    <label>Max days ahead users can book:
      <input type="number" id="max-days" value="14" />
    </label>
    <br><br>
    <label>Minimum hours before slot closes:
      <input type="number" id="min-hours" value="1" />
    </label>
    <br><br>
    <label>Public Notice:
      <input type="text" id="public-notice" placeholder="e.g., Closed Friday for maintenance" />
    </label>
    <br><br>
    <label><input type="checkbox" id="booking-toggle" checked /> Allow new bookings</label>
    <br><br>
    <button class="save-btn">üíæ Save Settings</button>
  </div>

  <script>
    // Navbar toggle
    function showSection(id) {
      document.querySelectorAll('.nav-button').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.querySelector(`[onclick="showSection('${id}')"]`).classList.add('active');
      document.getElementById(id).classList.add('active');
    }

    // Build working days with shift logic
    const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
    const container = document.getElementById("working-days-container");

    days.forEach(day => {
      const row = document.createElement("div");
      row.className = "day-row";
      row.innerHTML = `
        <label><input type="checkbox" class="day-enable" data-day="${day}" checked /> ${day}</label>
        <select class="shift-type" data-day="${day}">
          <option value="single">Single Shift</option>
          <option value="double">Double Shift</option>
        </select>
        <div class="shift shift-1" data-day="${day}">
          <input type="time" class="start-1" value="09:00" /> -
          <input type="time" class="end-1" value="13:00" />
        </div>
        <div class="shift shift-2 hidden" data-day="${day}">
          <input type="time" class="start-2" value="16:00" /> -
          <input type="time" class="end-2" value="20:00" />
        </div>
      `;
      container.appendChild(row);
    });

    document.addEventListener("change", function(e) {
      if (e.target.classList.contains("shift-type")) {
        const day = e.target.dataset.day;
        const val = e.target.value;
        const shift2 = document.querySelector(`.shift-2[data-day="${day}"]`);
        if (val === "double") {
          shift2.classList.remove("hidden");
        } else {
          shift2.classList.add("hidden");
        }
      }
    });

    function saveWorkingDays() {
      const config = {};
      days.forEach(day => {
        const enabled = document.querySelector(`.day-enable[data-day="${day}"]`).checked;
        const shiftType = document.querySelector(`.shift-type[data-day="${day}"]`).value;
        const start1 = document.querySelector(`.start-1[data-day="${day}"]`)?.value;
        const end1 = document.querySelector(`.end-1[data-day="${day}"]`)?.value;
        const start2 = document.querySelector(`.start-2[data-day="${day}"]`)?.value;
        const end2 = document.querySelector(`.end-2[data-day="${day}"]`)?.value;
        config[day] = {
          enabled,
          shiftType,
          shift1: { start: start1, end: end1 },
          shift2: shiftType === "double" ? { start: start2, end: end2 } : null
        };
      });
      console.log("üïí Working Days Saved:", config);
      alert("Working hours saved (check console)");
    }

    function addHoliday() {
      const date = document.getElementById('holiday-date').value;
      const reason = document.getElementById('holiday-reason').value;
      if (date) {
        const list = document.getElementById('holiday-list');
        const li = document.createElement('li');
        li.textContent = `${date} - ${reason || 'No reason given'}`;
        list.appendChild(li);
      }
    }

    function addBlackout() {
      const day = document.getElementById('blackout-day').value;
      const start = document.getElementById('blackout-start').value;
      const end = document.getElementById('blackout-end').value;
      if (start && end) {
        const list = document.getElementById('blackout-list');
        const li = document.createElement('li');
        li.textContent = `${day}: ${start} - ${end}`;
        list.appendChild(li);
      }
    }
  </script>
</body>
</html>