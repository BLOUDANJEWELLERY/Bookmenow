<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Settings</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    .settings-container {
      max-width: 1000px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.05);
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    section {
      margin-bottom: 40px;
    }

    h3 {
      border-bottom: 1px solid #ddd;
      padding-bottom: 10px;
      margin-bottom: 20px;
    }

    .day-row {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 15px;
    }

    .shift {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .shift input[type="time"] {
      width: 100px;
    }

    .hidden {
      display: none !important;
    }

    input[type="checkbox"],
    select {
      padding: 5px;
    }

    input[type="time"],
    input[type="date"],
    input[type="text"],
    input[type="number"],
    select {
      padding: 6px 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .save-btn {
      display: block;
      width: 100%;
      font-size: 16px;
      margin-top: 20px;
      padding: 10px;
      background-color: #0077cc;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .save-btn:hover {
      background-color: #005fa3;
    }
  </style>
</head>
<body>
  <div class="settings-container">
    <h2>üõ†Ô∏è Admin Settings</h2>

    <section>
      <h3>üïí Working Days & Hours (Single/Double Shift)</h3>
      <div id="working-days-container">
        <!-- Generated by JS -->
      </div>
    </section>

    <button class="save-btn" onclick="saveWorkingDays()">üíæ Save Working Hours</button>
  </div>

  <script>
    const days = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"];
    const container = document.getElementById("working-days-container");

    days.forEach(day => {
      const row = document.createElement("div");
      row.className = "day-row";
      row.innerHTML = `
        <label><input type="checkbox" class="day-enable" data-day="${day}" checked> ${day}</label>

        <select class="shift-type" data-day="${day}">
          <option value="single">Single Shift</option>
          <option value="double">Double Shift</option>
        </select>

        <div class="shift shift-1" data-day="${day}">
          <input type="time" class="start-1" value="09:00" /> -
          <input type="time" class="end-1" value="17:00" />
        </div>

        <div class="shift shift-2 hidden" data-day="${day}">
          <input type="time" class="start-2" value="16:00" /> -
          <input type="time" class="end-2" value="20:00" />
        </div>
      `;
      container.appendChild(row);
    });

    // Toggle second shift visibility
    document.addEventListener("change", function(e) {
      if (e.target.classList.contains("shift-type")) {
        const day = e.target.dataset.day;
        const value = e.target.value;
        const shift2 = document.querySelector(`.shift-2[data-day="${day}"]`);
        if (value === "double") {
          shift2.classList.remove("hidden");
        } else {
          shift2.classList.add("hidden");
        }
      }
    });

    // Save logic placeholder
    function saveWorkingDays() {
      const config = {};
      days.forEach(day => {
        const enabled = document.querySelector(`.day-enable[data-day="${day}"]`).checked;
        const shiftType = document.querySelector(`.shift-type[data-day="${day}"]`).value;
        const start1 = document.querySelector(`.start-1[data-day="${day}"]`)?.value;
        const end1 = document.querySelector(`.end-1[data-day="${day}"]`)?.value;
        const start2 = document.querySelector(`.start-2[data-day="${day}"]`)?.value;
        const end2 = document.querySelector(`.end-2[data-day="${day}"]`)?.value;

        config[day] = {
          enabled,
          shiftType,
          shift1: { start: start1, end: end1 },
          shift2: shiftType === "double" ? { start: start2, end: end2 } : null
        };
      });

      console.log("Working days config to save:", config);
      alert("Working hours saved (check console for preview)");

      // üî• TODO: Firestore save logic goes here
    }
  </script>
</body>
</html>